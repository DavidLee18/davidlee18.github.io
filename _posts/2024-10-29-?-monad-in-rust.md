---
title: "?: 러스트에 있는 모나드"
layout: post
date: 2024-10-29 14:12:43 +0900
categories:
- functional-programming
- rust
---
함수형 언어에만 있는 "모나드"라는 것이 있습니다. 이것은 매우 편리해서 "프로그래밍 가능한 세미콜론"이라는 명칭까지 있는데요, 이 모나드를 이용하면 어떤 문장마다 일어나야 할 동작을 입맛대로 설정해서 사용할 수 있습니다. 
순수한 함수형 언어인 하스켈에서는 변경 작업, 리스트 연산, 각종 부작용 등의 동작에 모나드를 적극 활용하고 있습니다. 심지어는 모나드를 활용해서 실제 환경을 모방, 실제에서 작동하는 것처럼 프로그램을 테스트하는 데에도 사용하죠. 
하스켈에서 많은 부분 타입 시스템을 가져온 러스트에서도 이런 모나드가 있었으면 좋았을 텐데, 처음에는 러스트에는 모나드가 없다고 생각했었습니다. 하지만 러스트에서는 제한된 형태이지만, 모나드가 있었습니다. 
하지만 "대체 그래서 모나드가 뭔데?"라고 하실 분들을 위해, 먼저 모나드를 소개하겠습니다.

## Monad
`Monad`는 하스켈의 타입 클래스 중 하나입니다. "타입 클래스는 또 뭔데?" 아, 걱정 마세요. 타입 클래스는 일종의 인터페이스이지만, 더 정확히는 러스트의 트레잇과 더 비슷합니다. 말 그대로 타입들을 나누는 기준이 되는 것입니다. 
하여튼 하스켈에서 모나드는 이렇게 정의되어 있습니다:
```haskell
class Applicative m => Monad (m :: Type -> Type) where
  (>>=) :: m a -> (a -> m b) -> m b
```
